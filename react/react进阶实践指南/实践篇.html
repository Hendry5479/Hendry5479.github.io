<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实现mini-router | 英俊的大亨亨</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="heng.png">
    <meta name="description" content="记录下有趣岁月的点点滴滴">
    
    <link rel="preload" href="/assets/css/0.styles.e4d8b86b.css" as="style"><link rel="preload" href="/assets/js/app.b51e4ccd.js" as="script"><link rel="preload" href="/assets/js/2.7229199a.js" as="script"><link rel="preload" href="/assets/js/59.61cf3322.js" as="script"><link rel="prefetch" href="/assets/js/10.00f8a9d8.js"><link rel="prefetch" href="/assets/js/100.78dfd44a.js"><link rel="prefetch" href="/assets/js/101.cdae98a0.js"><link rel="prefetch" href="/assets/js/102.6a3dd9e0.js"><link rel="prefetch" href="/assets/js/103.cfed07a2.js"><link rel="prefetch" href="/assets/js/104.a16a4843.js"><link rel="prefetch" href="/assets/js/105.9cd1add0.js"><link rel="prefetch" href="/assets/js/106.546c1ad8.js"><link rel="prefetch" href="/assets/js/107.04b38bf9.js"><link rel="prefetch" href="/assets/js/108.31a22b61.js"><link rel="prefetch" href="/assets/js/109.1f2a1840.js"><link rel="prefetch" href="/assets/js/11.e2689dc6.js"><link rel="prefetch" href="/assets/js/110.9dc2f13b.js"><link rel="prefetch" href="/assets/js/111.35cf70f8.js"><link rel="prefetch" href="/assets/js/112.39a6579b.js"><link rel="prefetch" href="/assets/js/113.cbfc279d.js"><link rel="prefetch" href="/assets/js/114.878470a2.js"><link rel="prefetch" href="/assets/js/115.86dc4d8e.js"><link rel="prefetch" href="/assets/js/116.d2e05b2c.js"><link rel="prefetch" href="/assets/js/117.7525671d.js"><link rel="prefetch" href="/assets/js/118.a5c04c6d.js"><link rel="prefetch" href="/assets/js/119.613a81e1.js"><link rel="prefetch" href="/assets/js/12.0b7aaea4.js"><link rel="prefetch" href="/assets/js/120.ec6d3159.js"><link rel="prefetch" href="/assets/js/121.6705f783.js"><link rel="prefetch" href="/assets/js/122.7b3fe034.js"><link rel="prefetch" href="/assets/js/123.9336f454.js"><link rel="prefetch" href="/assets/js/124.dca9fc87.js"><link rel="prefetch" href="/assets/js/125.338aa4d8.js"><link rel="prefetch" href="/assets/js/126.a731a9eb.js"><link rel="prefetch" href="/assets/js/127.da74dd90.js"><link rel="prefetch" href="/assets/js/128.3d5e86f2.js"><link rel="prefetch" href="/assets/js/129.ee43b65c.js"><link rel="prefetch" href="/assets/js/13.31064a46.js"><link rel="prefetch" href="/assets/js/130.8a273d75.js"><link rel="prefetch" href="/assets/js/131.a89df4ac.js"><link rel="prefetch" href="/assets/js/132.0daac28c.js"><link rel="prefetch" href="/assets/js/133.b1f23c92.js"><link rel="prefetch" href="/assets/js/134.78621a9c.js"><link rel="prefetch" href="/assets/js/135.f0884a8b.js"><link rel="prefetch" href="/assets/js/136.45114430.js"><link rel="prefetch" href="/assets/js/137.eb295fce.js"><link rel="prefetch" href="/assets/js/138.cc7dc8d3.js"><link rel="prefetch" href="/assets/js/139.c9b1aad6.js"><link rel="prefetch" href="/assets/js/14.0be4ee49.js"><link rel="prefetch" href="/assets/js/15.685fab30.js"><link rel="prefetch" href="/assets/js/16.97f8b16a.js"><link rel="prefetch" href="/assets/js/17.9c7bebeb.js"><link rel="prefetch" href="/assets/js/18.965d9e47.js"><link rel="prefetch" href="/assets/js/19.3d59a8e1.js"><link rel="prefetch" href="/assets/js/20.1573d510.js"><link rel="prefetch" href="/assets/js/21.f46234dd.js"><link rel="prefetch" href="/assets/js/22.6c16fd38.js"><link rel="prefetch" href="/assets/js/23.50a2a38a.js"><link rel="prefetch" href="/assets/js/24.8aff8273.js"><link rel="prefetch" href="/assets/js/25.35a7c496.js"><link rel="prefetch" href="/assets/js/26.af233874.js"><link rel="prefetch" href="/assets/js/27.a3a96a5a.js"><link rel="prefetch" href="/assets/js/28.a1d49602.js"><link rel="prefetch" href="/assets/js/29.174b7d7d.js"><link rel="prefetch" href="/assets/js/3.6038f64c.js"><link rel="prefetch" href="/assets/js/30.a4115d32.js"><link rel="prefetch" href="/assets/js/31.1522875a.js"><link rel="prefetch" href="/assets/js/32.35da527d.js"><link rel="prefetch" href="/assets/js/33.814d63e8.js"><link rel="prefetch" href="/assets/js/34.615b49c1.js"><link rel="prefetch" href="/assets/js/35.856ab789.js"><link rel="prefetch" href="/assets/js/36.2987bc62.js"><link rel="prefetch" href="/assets/js/37.084d12aa.js"><link rel="prefetch" href="/assets/js/38.088f3091.js"><link rel="prefetch" href="/assets/js/39.4ea066d5.js"><link rel="prefetch" href="/assets/js/4.c610d016.js"><link rel="prefetch" href="/assets/js/40.97850ba9.js"><link rel="prefetch" href="/assets/js/41.8b8ae086.js"><link rel="prefetch" href="/assets/js/42.8ae2cac3.js"><link rel="prefetch" href="/assets/js/43.f8a28187.js"><link rel="prefetch" href="/assets/js/44.5160f68a.js"><link rel="prefetch" href="/assets/js/45.6d4b7130.js"><link rel="prefetch" href="/assets/js/46.44693348.js"><link rel="prefetch" href="/assets/js/47.eb0ac18a.js"><link rel="prefetch" href="/assets/js/48.ce1c6335.js"><link rel="prefetch" href="/assets/js/49.7ec1b16a.js"><link rel="prefetch" href="/assets/js/5.216dfe20.js"><link rel="prefetch" href="/assets/js/50.1f503aa4.js"><link rel="prefetch" href="/assets/js/51.47971163.js"><link rel="prefetch" href="/assets/js/52.e5f681d7.js"><link rel="prefetch" href="/assets/js/53.df89fbb7.js"><link rel="prefetch" href="/assets/js/54.a140a8dd.js"><link rel="prefetch" href="/assets/js/55.5809711e.js"><link rel="prefetch" href="/assets/js/56.3a62759d.js"><link rel="prefetch" href="/assets/js/57.c9bd4339.js"><link rel="prefetch" href="/assets/js/58.acb475d1.js"><link rel="prefetch" href="/assets/js/6.73a8f323.js"><link rel="prefetch" href="/assets/js/60.aa39146e.js"><link rel="prefetch" href="/assets/js/61.f62972b8.js"><link rel="prefetch" href="/assets/js/62.79fc1ddc.js"><link rel="prefetch" href="/assets/js/63.808c750c.js"><link rel="prefetch" href="/assets/js/64.4e99e2e1.js"><link rel="prefetch" href="/assets/js/65.f112caec.js"><link rel="prefetch" href="/assets/js/66.422cc6c9.js"><link rel="prefetch" href="/assets/js/67.f504a803.js"><link rel="prefetch" href="/assets/js/68.f8e84a65.js"><link rel="prefetch" href="/assets/js/69.af07ae00.js"><link rel="prefetch" href="/assets/js/7.a6e60d89.js"><link rel="prefetch" href="/assets/js/70.9b212396.js"><link rel="prefetch" href="/assets/js/71.049b7d3e.js"><link rel="prefetch" href="/assets/js/72.b508f834.js"><link rel="prefetch" href="/assets/js/73.52a25a21.js"><link rel="prefetch" href="/assets/js/74.68de4c01.js"><link rel="prefetch" href="/assets/js/75.c0d8e99a.js"><link rel="prefetch" href="/assets/js/76.672b246e.js"><link rel="prefetch" href="/assets/js/77.36d886e3.js"><link rel="prefetch" href="/assets/js/78.079ebfd8.js"><link rel="prefetch" href="/assets/js/79.d3d3e8ea.js"><link rel="prefetch" href="/assets/js/8.a72c567f.js"><link rel="prefetch" href="/assets/js/80.c690c3d9.js"><link rel="prefetch" href="/assets/js/81.c012b7d5.js"><link rel="prefetch" href="/assets/js/82.47ffa460.js"><link rel="prefetch" href="/assets/js/83.2ba84114.js"><link rel="prefetch" href="/assets/js/84.dc0bf5a8.js"><link rel="prefetch" href="/assets/js/85.d968ae8b.js"><link rel="prefetch" href="/assets/js/86.91000a3b.js"><link rel="prefetch" href="/assets/js/87.6e885c71.js"><link rel="prefetch" href="/assets/js/88.99dd2b79.js"><link rel="prefetch" href="/assets/js/89.601c57ea.js"><link rel="prefetch" href="/assets/js/9.c59ba06b.js"><link rel="prefetch" href="/assets/js/90.89ee0da5.js"><link rel="prefetch" href="/assets/js/91.854de449.js"><link rel="prefetch" href="/assets/js/92.7a25d006.js"><link rel="prefetch" href="/assets/js/93.17f89281.js"><link rel="prefetch" href="/assets/js/94.0f6749b9.js"><link rel="prefetch" href="/assets/js/95.41ef6f4a.js"><link rel="prefetch" href="/assets/js/96.12427920.js"><link rel="prefetch" href="/assets/js/97.53036963.js"><link rel="prefetch" href="/assets/js/98.43d8f870.js"><link rel="prefetch" href="/assets/js/99.4ab32fce.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e4d8b86b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/heng.png" alt="英俊的大亨亨" class="logo"> <span class="site-name can-hide">英俊的大亨亨</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">js</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/js-基础.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/js/js-数组.html" class="nav-link">
  数组
</a></li><li class="dropdown-item"><!----> <a href="/js/js-异步.html" class="nav-link">
  异步
</a></li><li class="dropdown-item"><!----> <a href="/js/js-es6.html" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/js/js-v8引擎.html" class="nav-link">
  v8
</a></li><li class="dropdown-item"><!----> <a href="/手写代码/1.js基础.html" class="nav-link">
  手写
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/process.html" class="nav-link">
  
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/html.html" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/css.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/node.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/webpack.html" class="nav-link">
  小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="leetcode" class="dropdown-title"><span class="title">leetcode</span> <span class="arrow down"></span></button> <button type="button" aria-label="leetcode" class="mobile-dropdown-title"><span class="title">leetcode</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/代码随想录/1.数组.html" class="nav-link">
  1.数组
</a></li><li class="dropdown-item"><!----> <a href="/代码随想录/10.动态规划/1.基础.html" class="nav-link">
  10.动态规划
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">react源码</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">react源码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react源码/理念.html" class="nav-link">
  1.理念
</a></li><li class="dropdown-item"><!----> <a href="/react源码/3.render.html" class="nav-link">
  3.render
</a></li><li class="dropdown-item"><!----> <a href="/react源码/4.commit.html" class="nav-link">
  4.commit
</a></li><li class="dropdown-item"><!----> <a href="/react源码/5.状态更新.html" class="nav-link">
  5.状态更新
</a></li><li class="dropdown-item"><!----> <a href="/react源码/6.diff.html" class="nav-link">
  6.diff
</a></li><li class="dropdown-item"><!----> <a href="/react/7.实现hooks.html" class="nav-link">
  7.实现hooks
</a></li><li class="dropdown-item"><!----> <a href="/react/8.concurrentMode.html" class="nav-link">
  8.concurrentMode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/1.配置.html" class="nav-link">
  1.配置
</a></li><li class="dropdown-item"><!----> <a href="/webpack/2.loader.html" class="nav-link">
  2.loader
</a></li><li class="dropdown-item"><!----> <a href="/webpack/3.plugin.html" class="nav-link">
  3.plugin
</a></li><li class="dropdown-item"><!----> <a href="/webpack/4.模块化原理.html" class="nav-link">
  4.模块化原理
</a></li><li class="dropdown-item"><!----> <a href="/webpack/5.babel.html" class="nav-link">
  5.babel
</a></li><li class="dropdown-item"><!----> <a href="/webpack/6.HMR.html" class="nav-link">
  6.HMR
</a></li><li class="dropdown-item"><!----> <a href="/webpack/7.环境分离.html" class="nav-link">
  7.环境分离
</a></li><li class="dropdown-item"><!----> <a href="/webpack/8.tree_shaking.html" class="nav-link">
  8.tree_shaking
</a></li><li class="dropdown-item"><!----> <a href="/webpack/9,源码.html" class="nav-link">
  9.源码
</a></li><li class="dropdown-item"><!----> <a href="/webpack/11.自定义loader.html" class="nav-link">
  11.自定义loader
</a></li><li class="dropdown-item"><!----> <a href="/webpack/12.自定义plugin.html" class="nav-link">
  12.自定义plugin
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/设计模式/创建型.html" class="nav-link">
  创建型
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/结构型.html" class="nav-link">
  结构型
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/行为型.html" class="nav-link">
  行为型
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">angular</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">angular</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react/react%E8%BF%9B%E9%98%B6%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/.html" class="nav-link">
  angular性能调优
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/结构型.html" class="nav-link">
  angular源码理解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">健身</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">健身</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react/react%E8%BF%9B%E9%98%B6%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/.html" class="nav-link">
  angular性能调优
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/结构型.html" class="nav-link">
  angular源码理解
</a></li></ul></div></div><div class="nav-item"><a href="/me.html" class="nav-link">
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">js</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/js/js-基础.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/js/js-数组.html" class="nav-link">
  数组
</a></li><li class="dropdown-item"><!----> <a href="/js/js-异步.html" class="nav-link">
  异步
</a></li><li class="dropdown-item"><!----> <a href="/js/js-es6.html" class="nav-link">
  es6
</a></li><li class="dropdown-item"><!----> <a href="/js/js-v8引擎.html" class="nav-link">
  v8
</a></li><li class="dropdown-item"><!----> <a href="/手写代码/1.js基础.html" class="nav-link">
  手写
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          前端基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/react/process.html" class="nav-link">
  
</a></li></ul></li><li class="dropdown-item"><!----> <a href="/html.html" class="nav-link">
  html
</a></li><li class="dropdown-item"><!----> <a href="/css.html" class="nav-link">
  css
</a></li><li class="dropdown-item"><!----> <a href="/node.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/webpack.html" class="nav-link">
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/webpack.html" class="nav-link">
  小程序
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="leetcode" class="dropdown-title"><span class="title">leetcode</span> <span class="arrow down"></span></button> <button type="button" aria-label="leetcode" class="mobile-dropdown-title"><span class="title">leetcode</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/代码随想录/1.数组.html" class="nav-link">
  1.数组
</a></li><li class="dropdown-item"><!----> <a href="/代码随想录/10.动态规划/1.基础.html" class="nav-link">
  10.动态规划
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">react源码</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">react源码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react源码/理念.html" class="nav-link">
  1.理念
</a></li><li class="dropdown-item"><!----> <a href="/react源码/3.render.html" class="nav-link">
  3.render
</a></li><li class="dropdown-item"><!----> <a href="/react源码/4.commit.html" class="nav-link">
  4.commit
</a></li><li class="dropdown-item"><!----> <a href="/react源码/5.状态更新.html" class="nav-link">
  5.状态更新
</a></li><li class="dropdown-item"><!----> <a href="/react源码/6.diff.html" class="nav-link">
  6.diff
</a></li><li class="dropdown-item"><!----> <a href="/react/7.实现hooks.html" class="nav-link">
  7.实现hooks
</a></li><li class="dropdown-item"><!----> <a href="/react/8.concurrentMode.html" class="nav-link">
  8.concurrentMode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">webpack</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">webpack</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/webpack/1.配置.html" class="nav-link">
  1.配置
</a></li><li class="dropdown-item"><!----> <a href="/webpack/2.loader.html" class="nav-link">
  2.loader
</a></li><li class="dropdown-item"><!----> <a href="/webpack/3.plugin.html" class="nav-link">
  3.plugin
</a></li><li class="dropdown-item"><!----> <a href="/webpack/4.模块化原理.html" class="nav-link">
  4.模块化原理
</a></li><li class="dropdown-item"><!----> <a href="/webpack/5.babel.html" class="nav-link">
  5.babel
</a></li><li class="dropdown-item"><!----> <a href="/webpack/6.HMR.html" class="nav-link">
  6.HMR
</a></li><li class="dropdown-item"><!----> <a href="/webpack/7.环境分离.html" class="nav-link">
  7.环境分离
</a></li><li class="dropdown-item"><!----> <a href="/webpack/8.tree_shaking.html" class="nav-link">
  8.tree_shaking
</a></li><li class="dropdown-item"><!----> <a href="/webpack/9,源码.html" class="nav-link">
  9.源码
</a></li><li class="dropdown-item"><!----> <a href="/webpack/11.自定义loader.html" class="nav-link">
  11.自定义loader
</a></li><li class="dropdown-item"><!----> <a href="/webpack/12.自定义plugin.html" class="nav-link">
  12.自定义plugin
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">前端设计模式</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">前端设计模式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/设计模式/创建型.html" class="nav-link">
  创建型
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/结构型.html" class="nav-link">
  结构型
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/行为型.html" class="nav-link">
  行为型
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">angular</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">angular</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react/react%E8%BF%9B%E9%98%B6%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/.html" class="nav-link">
  angular性能调优
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/结构型.html" class="nav-link">
  angular源码理解
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">健身</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">健身</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/react/react%E8%BF%9B%E9%98%B6%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/.html" class="nav-link">
  angular性能调优
</a></li><li class="dropdown-item"><!----> <a href="/设计模式/结构型.html" class="nav-link">
  angular源码理解
</a></li></ul></div></div><div class="nav-item"><a href="/me.html" class="nav-link">
  关于我
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react进阶实践指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/react进阶实践指南/fiber.html" class="sidebar-link">fiber保存的信息</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/react/react进阶实践指南/v18.html" class="sidebar-link">transition</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/v18.html#意义" class="sidebar-link">意义</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/v18.html#starttransition" class="sidebar-link">startTransition</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/v18.html#usetransition" class="sidebar-link">useTransition</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/v18.html#usedeferredvalue" class="sidebar-link">useDeferredValue</a></li></ul></li><li><a href="/react/react进阶实践指南/优化篇.html" class="sidebar-link">渲染控制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#渲染的理解" class="sidebar-link">渲染的理解</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#控制render" class="sidebar-link">控制render</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#对render的思考" class="sidebar-link">对render的思考</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#二-懒加载和异步渲染" class="sidebar-link">二 懒加载和异步渲染</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#三-渲染错误边界" class="sidebar-link">三 渲染错误边界</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#四-从diff-children看key的合理使用" class="sidebar-link">四 从diff children看key的合理使用</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#时间分片" class="sidebar-link">时间分片</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/优化篇.html#虚拟列表" class="sidebar-link">虚拟列表</a></li></ul></li><li><a href="/react/react进阶实践指南/原理篇.html" class="sidebar-link">事件原理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#独特的事件处理" class="sidebar-link">独特的事件处理</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#事件合成" class="sidebar-link">事件合成</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#事件绑定" class="sidebar-link">事件绑定</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#事件触发" class="sidebar-link">事件触发</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#异步调度" class="sidebar-link">异步调度</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#异步调度原理" class="sidebar-link">异步调度原理</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#背景" class="sidebar-link">背景</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#二-fiber认识" class="sidebar-link">二 fiber认识</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#三-fiber更新机制" class="sidebar-link">三 fiber更新机制</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#四-两大阶段-render和commit" class="sidebar-link">四 两大阶段：render和commit</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#二-hooks与fiber-workinprogress" class="sidebar-link">二 hooks与fiber（workInProgress）</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#三-状态派发" class="sidebar-link">三 状态派发</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#四-处理副作用" class="sidebar-link">四 处理副作用</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#五-状态获取与状态缓存" class="sidebar-link">五 状态获取与状态缓存</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/原理篇.html#六-总结" class="sidebar-link">六 总结</a></li></ul></li><li><a href="/react/react进阶实践指南/原理篇2.html" class="sidebar-link">context原理</a></li><li><a href="/react/react进阶实践指南/基础篇.html" class="sidebar-link">jsx</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#一、常用元素被react处理成什么" class="sidebar-link">一、常用元素被React处理成什么</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#二、可控性render" class="sidebar-link">二、可控性render</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#三、babel解析jsx" class="sidebar-link">三、Babel解析JSX</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#二、函数组件" class="sidebar-link">二、函数组件</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#三、5种组件通信方式" class="sidebar-link">三、5种组件通信方式</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#四、组件强化" class="sidebar-link">四、组件强化</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#一、类组件setstate" class="sidebar-link">一、类组件setState</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#二、函数组件的usestate" class="sidebar-link">二、函数组件的useState</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#一、监听props" class="sidebar-link">一、监听props</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#二、props-children模式" class="sidebar-link">二、props + children模式</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#三、操作props" class="sidebar-link">三、操作props</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#类组件生命周期" class="sidebar-link">类组件生命周期</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#各个生命周期能做些什么" class="sidebar-link">各个生命周期能做些什么</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#函数组件生命周期替代方案" class="sidebar-link">函数组件生命周期替代方案</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#ref的基本概念和使用" class="sidebar-link">ref的基本概念和使用</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#ref原理" class="sidebar-link">ref原理</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#基本使用" class="sidebar-link">基本使用</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#高阶组件类型" class="sidebar-link">高阶组件类型</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#高阶组件如何编写" class="sidebar-link">高阶组件如何编写</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#高阶组件注意事项" class="sidebar-link">高阶组件注意事项</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/基础篇.html#进阶实践-权限拦截" class="sidebar-link">进阶实践 权限拦截</a></li></ul></li><li><a href="/react/react进阶实践指南/实践篇.html" class="active sidebar-link">实现mini-router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/实践篇.html#二-设计思路" class="sidebar-link">二 设计思路</a></li></ul></li><li><a href="/react/react进阶实践指南/源码目录.html" class="sidebar-link">/react/react进阶实践指南/源码目录.html</a></li><li><a href="/react/react进阶实践指南/生态篇.html" class="sidebar-link">react-router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#一-前言" class="sidebar-link">一 前言</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#二-路由原理" class="sidebar-link">二 路由原理</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#三-react-router-基本构成" class="sidebar-link">三 React-Router 基本构成</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#四-路由使用指南" class="sidebar-link">四 路由使用指南</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#五-实践一权限路由封装" class="sidebar-link">五 实践一权限路由封装</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#一-前言-2" class="sidebar-link">一 前言</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#二-react-redux用法" class="sidebar-link">二 React-Redux用法</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#三-react-redux原理" class="sidebar-link">三 React-Redux原理</a></li><li class="sidebar-sub-header"><a href="/react/react进阶实践指南/生态篇.html#四-实现异步" class="sidebar-link">四 实现异步</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="实现mini-router"><a href="#实现mini-router" class="header-anchor">#</a> 实现mini-router</h1> <h1 id="表单验证"><a href="#表单验证" class="header-anchor">#</a> 表单验证</h1> <h2 id="二-设计思路"><a href="#二-设计思路" class="header-anchor">#</a> 二 设计思路</h2> <h3 id="_1-表单组件层模型设计"><a href="#_1-表单组件层模型设计" class="header-anchor">#</a> 1 表单组件层模型设计</h3> <h4 id="form"><a href="#form" class="header-anchor">#</a> Form</h4> <p>表单状态管理，提交重置验证表单</p> <p>通过<strong>react context</strong> 保存下发状态</p> <p>与原生form功能一致</p> <h4 id="formitem"><a href="#formitem" class="header-anchor">#</a> FormItem</h4> <p>状态收集，传递给Form组件</p> <p>控制表单组件，传递value，监听change</p> <p>提供label和验证结果的UI层</p> <h4 id="表单空间"><a href="#表单空间" class="header-anchor">#</a> 表单空间</h4> <p>与上述表单验证系统零耦合</p> <p>表单控件不需要自己绑定事件，统一托管于FormItem</p> <h3 id="_2-状态层设计"><a href="#_2-状态层设计" class="header-anchor">#</a> 2 状态层设计</h3> <p>保存信息：引用promise的三种状态</p> <ul><li>resolve -&gt; 成功状态，表单验证成功 resolve</li> <li>reject -&gt; 失败状态，表单验证失败reject</li> <li>pending -&gt; 待验证状态，初始化，或者重新赋予</li></ul> <p>数据结构：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/*  
    TODO: 数据结构
    model = {
       [name] -&gt;  validate  = {
           value     -&gt; 表单值    (可以重新设定)
           rule      -&gt; 验证规则  ( 可以重新设定)
           required  -&gt; 是否必添 -&gt; 在含有 rule 的情况下默认为 true
           message   -&gt; 提示消息
           status    -&gt; 验证状态  resolve -&gt; 成功状态 ｜reject -&gt; 失败状态 ｜ pending -&gt; 待验证状态 |
       }
   }
*/</span>
</code></pre></div><p><strong>状态层最佳保存在Form内部，通过useForm自定义hooks维护表单状态FormStore</strong></p> <h3 id="_3-通信层设计"><a href="#_3-通信层设计" class="header-anchor">#</a> 3 通信层设计</h3> <h4 id="改变状态"><a href="#改变状态" class="header-anchor">#</a> 改变状态</h4> <p>受控组件状态更新流程：</p> <p>Input表单，onchange，FormItem最先感知到变化，然后通知FormStore，FormStore逻辑处理，将最新的状态发送给FormItem，FormItem再让Input更新最新的值。</p> <h4 id="触发校验"><a href="#触发校验" class="header-anchor">#</a> 触发校验</h4> <p>FormItem层的校验触发，对单个表单item的校验</p> <p>Form层的校验触发，提交事件，手动触发校验时间</p> <ul><li>触发submit，通知到FormStore</li> <li>FormStore对整个表单校验，将表单Item状态<strong>异步批量</strong>下发到每个FormItem</li> <li>FormItem展示校验结果</li></ul> <h1 id="自定义弹窗"><a href="#自定义弹窗" class="header-anchor">#</a> 自定义弹窗</h1> <h1 id="自定义hooks设计"><a href="#自定义hooks设计" class="header-anchor">#</a> 自定义hooks设计</h1> <h1 id="自定义hooks时间"><a href="#自定义hooks时间" class="header-anchor">#</a> 自定义hooks时间</h1></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/react/react进阶实践指南/基础篇.html" class="prev">
        jsx
      </a></span> <span class="next"><a href="/react/react进阶实践指南/源码目录.html">
        /react/react进阶实践指南/源码目录.html
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b51e4ccd.js" defer></script><script src="/assets/js/2.7229199a.js" defer></script><script src="/assets/js/59.61cf3322.js" defer></script>
  </body>
</html>
