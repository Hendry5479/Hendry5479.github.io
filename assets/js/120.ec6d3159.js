(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{485:function(e,t,r){"use strict";r.r(t);var s=r(45),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"待深入学习。。。"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#待深入学习。。。"}},[e._v("#")]),e._v(" 待深入学习。。。")]),e._v(" "),r("h1",{attrs:{id:"promise"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#promise"}},[e._v("#")]),e._v(" promise")]),e._v(" "),r("h2",{attrs:{id:"_1-promise和thenable"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-promise和thenable"}},[e._v("#")]),e._v(" 1. promise和thenable")]),e._v(" "),r("p",[e._v("两个都是有then方法的对象或函数")]),e._v(" "),r("p",[e._v("三种状态和流转关系")]),e._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("pending -> resolve(value) -> fulfilled\npending -> reject(reason) -> rejected\n")])])]),r("h2",{attrs:{id:"_2-then"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-then"}},[e._v("#")]),e._v(" 2. then")]),e._v(" "),r("p",[r("code",[e._v("promise.then(onFulfilled, onRejected)")])]),e._v(" "),r("h3",{attrs:{id:"_2-1-onfulfilled和onrejected的特点"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-onfulfilled和onrejected的特点"}},[e._v("#")]),e._v(" 2.1 onFulfilled和onRejected的特点")]),e._v(" "),r("ol",[r("li",[e._v("必须是函数，否则被忽略；")]),e._v(" "),r("li",[e._v("只能调用一次")]),e._v(" "),r("li",[e._v("应该是微任务")])]),e._v(" "),r("p",[e._v("then可以被调用多次，因此所有回调需要用数组存储，按照顺序执行")]),e._v(" "),r("h3",{attrs:{id:"_2-2-then返回一个promise"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-then返回一个promise"}},[e._v("#")]),e._v(" 2.2 then返回一个promise")]),e._v(" "),r("p",[e._v("记回调执行结果为x，调用resolvePromise")]),e._v(" "),r("p",[r("code",[e._v("promise2 = promise1.then(onFulfilled, onRejected);")])]),e._v(" "),r("p",[e._v("如果回调抛出异常，promise2要reject")]),e._v(" "),r("p",[e._v("如果回调不是函数，promise2要以promise1对应回调的值流转状态")]),e._v(" "),r("h3",{attrs:{id:"_2-3-resolvepromise"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-resolvepromise"}},[e._v("#")]),e._v(" 2.3 resolvePromise")]),e._v(" "),r("p",[r("code",[e._v("resolvePromise(promise2, x, resolve, reject)")])])])}),[],!1,null,null,null);t.default=a.exports}}]);